{"ast":null,"code":"import { all, call, put, takeLatest, fork } from \"redux-saga/effects\";\nimport { REQUEST_DATA, receiveData, REQUEST_MOVIE_DETAIL, receiveMovieDetail, REQUEST_DATA_BY_PAGE } from \"./actions\";\nimport { fetchData, fetchMovieDetail, fetchDataByPage } from \"./api\";\n\nfunction* getMovies(action) {\n  try {\n    const data = yield call(fetchData, action.search);\n    yield put(receiveData(data));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* getMoviesByPage(action) {\n  try {\n    const data = yield call(fetchDataByPage, action.search, action.page);\n    yield put(receiveData(data));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* getMovieDetail(action) {\n  try {\n    const data = yield call(fetchMovieDetail, action.id);\n    yield put(receiveMovieDetail(data));\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* moviesSaga() {\n  yield takeLatest(REQUEST_DATA, getMovies);\n}\n\nfunction* moviesSagaByPage() {\n  yield takeLatest(REQUEST_DATA_BY_PAGE, getMoviesByPage);\n}\n\nfunction* movieDetailSaga() {\n  yield takeLatest(REQUEST_MOVIE_DETAIL, getMovieDetail);\n}\n\nexport default function* rootSaga() {\n  yield all([fork(moviesSaga), fork(movieDetailSaga), fork(moviesSagaByPage)]);\n}","map":{"version":3,"sources":["/Users/serg/Desktop/movie-app/src/store/sagas.js"],"names":["all","call","put","takeLatest","fork","REQUEST_DATA","receiveData","REQUEST_MOVIE_DETAIL","receiveMovieDetail","REQUEST_DATA_BY_PAGE","fetchData","fetchMovieDetail","fetchDataByPage","getMovies","action","data","search","e","console","log","getMoviesByPage","page","getMovieDetail","id","moviesSaga","moviesSagaByPage","movieDetailSaga","rootSaga"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,UAAzB,EAAqCC,IAArC,QAAiD,oBAAjD;AACA,SACCC,YADD,EAECC,WAFD,EAGCC,oBAHD,EAICC,kBAJD,EAKCC,oBALD,QAMO,WANP;AAOA,SAASC,SAAT,EAAoBC,gBAApB,EAAsCC,eAAtC,QAA6D,OAA7D;;AAEA,UAAUC,SAAV,CAAoBC,MAApB,EAA4B;AAC3B,MAAI;AACH,UAAMC,IAAI,GAAG,MAAMd,IAAI,CAACS,SAAD,EAAYI,MAAM,CAACE,MAAnB,CAAvB;AACA,UAAMd,GAAG,CAACI,WAAW,CAACS,IAAD,CAAZ,CAAT;AACA,GAHD,CAGE,OAAOE,CAAP,EAAU;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA;AACD;;AAED,UAAUG,eAAV,CAA0BN,MAA1B,EAAkC;AACjC,MAAI;AACH,UAAMC,IAAI,GAAG,MAAMd,IAAI,CAACW,eAAD,EAAkBE,MAAM,CAACE,MAAzB,EAAiCF,MAAM,CAACO,IAAxC,CAAvB;AACA,UAAMnB,GAAG,CAACI,WAAW,CAACS,IAAD,CAAZ,CAAT;AACA,GAHD,CAGE,OAAOE,CAAP,EAAU;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA;AACD;;AAED,UAAUK,cAAV,CAAyBR,MAAzB,EAAiC;AAChC,MAAI;AACH,UAAMC,IAAI,GAAG,MAAMd,IAAI,CAACU,gBAAD,EAAmBG,MAAM,CAACS,EAA1B,CAAvB;AACA,UAAMrB,GAAG,CAACM,kBAAkB,CAACO,IAAD,CAAnB,CAAT;AACA,GAHD,CAGE,OAAOE,CAAP,EAAU;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA;AACD;;AAED,UAAUO,UAAV,GAAuB;AACtB,QAAMrB,UAAU,CAACE,YAAD,EAAeQ,SAAf,CAAhB;AACA;;AAED,UAAUY,gBAAV,GAA6B;AAC5B,QAAMtB,UAAU,CAACM,oBAAD,EAAuBW,eAAvB,CAAhB;AACA;;AAED,UAAUM,eAAV,GAA4B;AAC3B,QAAMvB,UAAU,CAACI,oBAAD,EAAuBe,cAAvB,CAAhB;AACA;;AAED,eAAe,UAAUK,QAAV,GAAqB;AACnC,QAAM3B,GAAG,CAAC,CACTI,IAAI,CAACoB,UAAD,CADK,EAETpB,IAAI,CAACsB,eAAD,CAFK,EAGTtB,IAAI,CAACqB,gBAAD,CAHK,CAAD,CAAT;AAKA","sourcesContent":["import { all, call, put, takeLatest, fork } from \"redux-saga/effects\";\nimport {\n\tREQUEST_DATA,\n\treceiveData,\n\tREQUEST_MOVIE_DETAIL,\n\treceiveMovieDetail,\n\tREQUEST_DATA_BY_PAGE,\n} from \"./actions\";\nimport { fetchData, fetchMovieDetail, fetchDataByPage } from \"./api\";\n\nfunction* getMovies(action) {\n\ttry {\n\t\tconst data = yield call(fetchData, action.search);\n\t\tyield put(receiveData(data));\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n}\n\nfunction* getMoviesByPage(action) {\n\ttry {\n\t\tconst data = yield call(fetchDataByPage, action.search, action.page);\n\t\tyield put(receiveData(data));\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n}\n\nfunction* getMovieDetail(action) {\n\ttry {\n\t\tconst data = yield call(fetchMovieDetail, action.id);\n\t\tyield put(receiveMovieDetail(data));\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n}\n\nfunction* moviesSaga() {\n\tyield takeLatest(REQUEST_DATA, getMovies);\n}\n\nfunction* moviesSagaByPage() {\n\tyield takeLatest(REQUEST_DATA_BY_PAGE, getMoviesByPage);\n}\n\nfunction* movieDetailSaga() {\n\tyield takeLatest(REQUEST_MOVIE_DETAIL, getMovieDetail);\n}\n\nexport default function* rootSaga() {\n\tyield all([\n\t\tfork(moviesSaga),\n\t\tfork(movieDetailSaga),\n\t\tfork(moviesSagaByPage),\n\t]);\n}"]},"metadata":{},"sourceType":"module"}