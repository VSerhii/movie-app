{"ast":null,"code":"import { TOGGLE_FAVORITE_MOVIE, GET_FAVORITE_MOVIES_FROM_LOCAL_STORAGE } from \"../actions\";\n\nconst toggleItem = (state, id, poster, title) => {\n  const favoriteMoviesLS = JSON.parse(localStorage.getItem('favoriteMovies'));\n\n  if (state[id]) {\n    delete state[id];\n\n    if (favoriteMoviesLS[id]) {\n      delete favoriteMoviesLS[id];\n      localStorage.setItem('favoriteMovies', JSON.stringify({ ...favoriteMoviesLS\n      }));\n    }\n\n    return state = { ...state\n    };\n  }\n\n  if (!state[id]) {\n    localStorage.setItem('favoriteMovies', JSON.stringify({ ...state,\n      [id]: {\n        id,\n        poster,\n        title\n      }\n    }));\n    return state = { ...state,\n      [id]: {\n        id,\n        poster,\n        title\n      }\n    };\n  }\n}; // eslint-disable-next-line import/no-anonymous-default-export\n\n\nexport default ((state = {}, {\n  type,\n  id,\n  poster,\n  title,\n  data\n}) => {\n  switch (type) {\n    case TOGGLE_FAVORITE_MOVIE:\n      return toggleItem(state, id, poster, title);\n\n    case GET_FAVORITE_MOVIES_FROM_LOCAL_STORAGE:\n      return data;\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/serg/Desktop/movie-app/src/store/reducers/favoriteMovies.js"],"names":["TOGGLE_FAVORITE_MOVIE","GET_FAVORITE_MOVIES_FROM_LOCAL_STORAGE","toggleItem","state","id","poster","title","favoriteMoviesLS","JSON","parse","localStorage","getItem","setItem","stringify","type","data"],"mappings":"AAAA,SAASA,qBAAT,EAAgCC,sCAAhC,QAA8E,YAA9E;;AAEA,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,EAAR,EAAYC,MAAZ,EAAoBC,KAApB,KAA8B;AAChD,QAAMC,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CAAzB;;AACA,MAAIR,KAAK,CAACC,EAAD,CAAT,EAAe;AACd,WAAOD,KAAK,CAACC,EAAD,CAAZ;;AACA,QAAIG,gBAAgB,CAACH,EAAD,CAApB,EAA0B;AACzB,aAAOG,gBAAgB,CAACH,EAAD,CAAvB;AACAM,MAAAA,YAAY,CAACE,OAAb,CAAqB,gBAArB,EAAuCJ,IAAI,CAACK,SAAL,CAAe,EAAE,GAAGN;AAAL,OAAf,CAAvC;AACA;;AACD,WAAOJ,KAAK,GAAG,EAAE,GAAGA;AAAL,KAAf;AACA;;AACD,MAAI,CAACA,KAAK,CAACC,EAAD,CAAV,EAAgB;AACfM,IAAAA,YAAY,CAACE,OAAb,CAAqB,gBAArB,EAAuCJ,IAAI,CAACK,SAAL,CAAe,EACrD,GAAGV,KADkD;AAErD,OAACC,EAAD,GAAM;AACLA,QAAAA,EADK;AAELC,QAAAA,MAFK;AAGLC,QAAAA;AAHK;AAF+C,KAAf,CAAvC;AASA,WAAOH,KAAK,GAAG,EACd,GAAGA,KADW;AAEd,OAACC,EAAD,GAAM;AACLA,QAAAA,EADK;AAELC,QAAAA,MAFK;AAGLC,QAAAA;AAHK;AAFQ,KAAf;AAQA;AACD,CA7BD,C,CA+BA;;;AACA,gBAAe,CAACH,KAAK,GAAG,EAAT,EAAa;AAAEW,EAAAA,IAAF;AAAQV,EAAAA,EAAR;AAAYC,EAAAA,MAAZ;AAAoBC,EAAAA,KAApB;AAA2BS,EAAAA;AAA3B,CAAb,KAAmD;AACjE,UAAQD,IAAR;AACC,SAAKd,qBAAL;AACC,aAAOE,UAAU,CAACC,KAAD,EAAQC,EAAR,EAAYC,MAAZ,EAAoBC,KAApB,CAAjB;;AACD,SAAKL,sCAAL;AACC,aAAOc,IAAP;;AACD;AACC,aAAOZ,KAAP;AANF;AAQA,CATD","sourcesContent":["import { TOGGLE_FAVORITE_MOVIE, GET_FAVORITE_MOVIES_FROM_LOCAL_STORAGE } from \"../actions\";\n\nconst toggleItem = (state, id, poster, title) => {\n\tconst favoriteMoviesLS = JSON.parse(localStorage.getItem('favoriteMovies'));\n\tif (state[id]) {\n\t\tdelete state[id]\n\t\tif (favoriteMoviesLS[id]) {\n\t\t\tdelete favoriteMoviesLS[id]\n\t\t\tlocalStorage.setItem('favoriteMovies', JSON.stringify({ ...favoriteMoviesLS }))\n\t\t}\n\t\treturn state = { ...state }\n\t}\n\tif (!state[id]) {\n\t\tlocalStorage.setItem('favoriteMovies', JSON.stringify({\n\t\t\t...state,\n\t\t\t[id]: {\n\t\t\t\tid,\n\t\t\t\tposter,\n\t\t\t\ttitle\n\t\t\t}\n\t\t}));\n\n\t\treturn state = {\n\t\t\t...state,\n\t\t\t[id]: {\n\t\t\t\tid,\n\t\t\t\tposter,\n\t\t\t\ttitle\n\t\t\t}\n\t\t}\n\t}\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {}, { type, id, poster, title, data }) => {\n\tswitch (type) {\n\t\tcase TOGGLE_FAVORITE_MOVIE:\n\t\t\treturn toggleItem(state, id, poster, title)\n\t\tcase GET_FAVORITE_MOVIES_FROM_LOCAL_STORAGE:\n\t\t\treturn data\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}